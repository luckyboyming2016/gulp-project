define(["jquery","collection","BMap"],function(t,n){function i(){this.collection=new n,this.content=t(this.tmpl),this.content.children().click(t.proxy(this.click,this)),BMap.Control.apply(this,arguments)}i.prototype=Object.create(BMap.Control.prototype);return function(t,n){for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i])}(i.prototype,{constructor:i,initialize:function(t){t.getContainer().appendChild(this.content[0])},click:function(n){var i=t(n.target);i.is(".active")||(i.siblings().removeClass("active").end().addClass("active"),this.collection.trigger("change",i.is(".reduce")?"-":"+"))},change:function(){t(this.content).find(".active").siblings().addClass("active").end().removeClass("active")},on:function(t,n,i){this.collection.on(t,n,i)},off:function(t,n){this.collection.off(t,n)},hidden:function(){this.content.css({display:"none"})},show:function(){this.content.css({display:"block"})},tmpl:'<span class="map-control-switch"><button type="button" class="reduce active" title="切换地图到列表模式">列表</button><button type="button" class="enlarge" title="切换地图到全屏模式">全屏</button></span>'}),i});