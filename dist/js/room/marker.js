define(["jquery","BMap","BMapLib.RichMarker"],function(t){function n(){BMapLib.RichMarker.apply(this,arguments),this.autoHover()}var e=n.prototype=Object.create(BMapLib.RichMarker.prototype);return e.constructor=n,e.fly=function(n,e){var i=t(this._container),r="zIndex";return void 0==i.attr(r)&&(i.attr(r,i.css(r)),i.css(r,e||0)),this},e.fall=function(){var n=t(this._container),e=n.children(),i="zIndex";return e.is(".open")||(n.css(i,n.attr(i)),n.removeAttr(i)),this},e.manual=function(){return t(this._container).children().addClass("manual"),this},e.open=function(){return t(this._container).children().addClass("open"),this},e.close=function(){return t(this._container).children().removeClass("open manual"),this},e.is=function(n){return t(this._container).children().is(n)},e.autoHover=function(){this.addEventListener("mouseover",this.fly),this.addEventListener("mouseout",this.fall)},e.viewed=function(n){return n&&t(this._container).children().addClass("viewed"),this},n});